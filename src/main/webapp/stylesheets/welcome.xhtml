<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:pe="http://primefaces.org/ui/extensions">
    <h:head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
        <meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
        <meta http-equiv="Pragma" content="no-cache" />
        <meta http-equiv="Cache-Control" content="no-cache" />
        <meta http-equiv="Expires" content="0" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>#{msgs['APPLICATION.TITLE']}</title>
        <f:facet name="first">
            <h:outputStylesheet library="primefaces" name="primefaces.css" />
            <h:outputStylesheet library="primefaces-bootstrap" name="theme.css" />
        </f:facet>
        <f:facet name="middle">
            <h:outputStylesheet library="webjars" name="bootswatch-yeti/3.1.1/css/bootstrap.min.css" />
        </f:facet>
        <f:facet name="last">
            <h:outputStylesheet library="css" name="welcome.css" />
            <h:outputScript library="js" name="snap.svg.js" />
        </f:facet>
    </h:head>
    <body>
        <f:view>
            <ui:fragment rendered="#{not empty param['expired']}">
                <p:dialog modal="true" resizable="false" dynamic="true" visible="true" closable="false" header="#{msgs['MESSAGE.INFO.SESSION_EXPIRED']}" widgetVar="confirmDlg">
                    <div class="ui-dialog-footer clearfix">
                        <div class="pull-right">
                            <a href="#{request.contextPath}/" class="btn btn-default btn-sm">#{msgs['ACTION.CLOSE']}</a>
                        </div>
                    </div>
                </p:dialog>
            </ui:fragment>
            <div class="container-fluid">
                <div class="row">
                    <header class="page-header text-center">
                        <h1>#{msgs['APPLICATION.TITLE']}</h1>
                    </header>
                    <section class="grid clearfix">
                        <div class="col-md-4 col-md-offset-2">
                            <a href="#{request.contextPath}/domaines" data-path-hover="m 180,42.57627 -180,0 L 0,0 180,0 z">
                                <figure>
                                    <p:graphicImage library="img" name="domaine.png" />
                                    <svg viewBox="0 0 180 320" preserveAspectRatio="none">
                                        <path d="M180,160C180,160,0,218,0,218C0,218,0,0,0,0C0,0,180,0,180,0C180,0,180,160,180,160" />
                                    </svg>
                                    <figcaption>
                                        <h2>#{msgs['MENU.DOMAINS.TITLE']}</h2>
                                        <p>#{msgs['MENU.DOMAINS.SUBTITLE']}</p>
                                    </figcaption>
                                </figure>
                            </a>
                        </div>
                        <div class="col-md-4">
                            <a href="#{request.contextPath}/applications" data-path-hover="m 180,42.57627 -180,0 L 0,0 180,0 z">
                                <figure>
                                    <p:graphicImage library="img" name="application.png" />
                                    <svg viewBox="0 0 180 320" preserveAspectRatio="none">
                                        <path d="M180,160C180,160,0,218,0,218C0,218,0,0,0,0C0,0,180,0,180,0C180,0,180,160,180,160" />
                                    </svg>
                                    <figcaption>
                                        <h2>#{msgs['MENU.APPLICATIONS.TITLE']}</h2>
                                        <p>#{msgs['MENU.APPLICATIONS.SUBTITLE']}</p>
                                    </figcaption>
                                </figure>
                            </a>
                        </div>
                    </section>
                </div>
            </div>
            <script>
                (function() {

                    function init() {
                        var speed = 250,
                            easing = mina.easeinout;

                        [].slice.call ( document.querySelectorAll( '.grid a' ) ).forEach( function( el ) {
                            var s = Snap( el.querySelector( 'svg' ) ), path = s.select( 'path' ),
                                    pathConfig = {
                                        from : path.attr( 'd' ),
                                        to : el.getAttribute( 'data-path-hover' )
                                    };

                            el.addEventListener( 'mouseenter', function() {
                                path.animate( { 'path' : pathConfig.to }, speed, easing );
                            } );

                            el.addEventListener( 'mouseleave', function() {
                                path.animate( { 'path' : pathConfig.from }, speed, easing );
                            } );
                        } );
                    }

                    init();

                })();
            </script>
        </f:view>
    </body>
</html>